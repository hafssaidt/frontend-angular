<mat-card>
  <mat-card-header>
    <mat-card-title class="title">Projects</mat-card-title>
  </mat-card-header>

  <mat-card-content>
    <div class="mat-table-container">
      <button mat-button class="btn1" (click)="addProject()">
        <i class="pi pi-plus"></i> Add Project
      </button>

      <mat-table #table [dataSource]="dataSource" cdkDropList (cdkDropListDropped)="drop($event)"
        [cdkDropListData]="dataSource" [cdkDropListDisabled]="dragDisabled">
        <ng-container matColumnDef="order" sticky>
          <mat-header-cell *matHeaderCellDef> Drag </mat-header-cell>
          <mat-cell *matCellDef="let element">
            <i class="pi pi-arrows-alt" (mousedown)="dragDisabled = false"></i>
            <!--<span>{{ element.projectOrder }}</span>-->
          </mat-cell>
        </ng-container>

        <ng-container matColumnDef="name">
          <mat-header-cell *matHeaderCellDef> Name </mat-header-cell>
          <mat-cell *matCellDef="let element"> {{ element.name }} </mat-cell>
        </ng-container>

        <ng-container matColumnDef="priority">
          <mat-header-cell *matHeaderCellDef> Priority </mat-header-cell>
          <mat-cell *matCellDef="let element">
            <span [ngClass]="getPriorityClass(element.priority)" class="badge">
              {{ element.priority }}
            </span>
          </mat-cell>
        </ng-container>

        <ng-container matColumnDef="dueDate">
          <mat-header-cell *matHeaderCellDef> Due Date </mat-header-cell>
          <mat-cell *matCellDef="let element">
            {{ element.endDate | date : "d MMM. yyyy" }}
          </mat-cell>
        </ng-container>

        <ng-container matColumnDef="edit">
          <mat-header-cell *matHeaderCellDef> Edit </mat-header-cell>
          <mat-cell *matCellDef="let element">
            <button mat-icon-button (click)="viewProject(element)" class="edit">
              <i class="pi pi-pencil"></i>
            </button>
          </mat-cell>
        </ng-container>

        <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
        <mat-row *matRowDef="let row; columns: displayedColumns" cdkDrag [cdkDragData]="row"></mat-row>
      </mat-table>
    </div>
  </mat-card-content></mat-card>